import { useId } from 'react'

export function Pattern({
  size = 40,
  gapX = 16,
  gapY = 8,
  pattern = [
    [0, 1, 0, 1, 1, 0, 1, 0],
    [1, 0, 1, 1, 0, 0, 0, 1],
    [0, 1, 0, 1, 1, 0, 1, 0],
    [1, 0, 1, 1, 0, 0, 0, 1],
  ],
  ...props
}) {
  let id = useId()
  let width = pattern[0].length * size + (pattern[0].length - 1) * gapX
  let height = pattern.length * size + (pattern.length - 1) * gapY

  return (
    <svg aria-hidden="true" width={width} height={height} {...props}>
      <svg id={`${id}-0`} width={size} height={size}><g><svg xmlns="http://www.w3.org/2000/svg" fill="rgb(252, 206, 146)" viewBox="18.799999237060547 -5.199999809265137 42.303436279296875 30.400001525878906"><path className="st0" d="M57.2 4.7c-1.5-.3-3 .3-4 1.4C51.1 3.2 47.6 1 43.5.3c.4-.6.7-1.3.7-2 0-1.9-1.6-3.5-3.5-3.5s-3.5 1.6-3.5 3.5c0 .8.2 1.4.7 2-5.2.9-9.5 4.1-11.1 8.3h-.1c-1-.6-1.9-3-2.2-4.4l-.2-.7h-5.5l.6 1.3c.6 1.4.8 3.3.9 5.1.3 4.1.7 9.3 8.1 9.5 2.6 3.5 7.2 5.8 12.3 5.8 5.2 0 9.7-2.3 12.3-5.8 4-.2 8.1-3.5 8.1-8.7.1-3.9-2-5.7-3.9-6zm-16.5-8c.9 0 1.6.7 1.6 1.6S41.6 0 40.7 0s-1.6-.7-1.6-1.6.7-1.7 1.6-1.7zm0 5.3c2.4 0 4.7.6 6.6 1.5H34.1c2-1 4.2-1.5 6.6-1.5zM22.1 9.7c-.1-1.5-.2-3-.6-4.4h1.4c.4 1.3 1.3 3.9 2.8 4.9.2.1.3.2.5.2-.1.7-.2 1.4-.2 2.2 0 1.7.4 3.3 1.1 4.8-4.4-.6-4.7-3.7-5-7.7zm18.6 13.6c-7.1 0-12.8-4.8-12.8-10.6 0-2.8 1.3-5.4 3.5-7.3h18.7c2.1 1.9 3.5 4.5 3.5 7.3 0 5.8-5.8 10.6-12.9 10.6zm13.6-6c.7-1.4 1.1-3 1.1-4.7 0-1.7-.4-3.3-1.1-4.8.5-1.1 1.7-1.5 2.6-1.3 1.5.3 2.4 1.8 2.4 4.1 0 3.5-2.3 5.9-5 6.7z"></path></svg></g></svg>
      <svg id={`${id}-1`} width={size} height={size}><g><svg xmlns="http://www.w3.org/2000/svg" fill="rgb(222, 180, 127)" viewBox="18.799999237060547 -5.199999809265137 42.303436279296875 30.400001525878906"><path className="st0" d="M57.2 4.7c-1.5-.3-3 .3-4 1.4C51.1 3.2 47.6 1 43.5.3c.4-.6.7-1.3.7-2 0-1.9-1.6-3.5-3.5-3.5s-3.5 1.6-3.5 3.5c0 .8.2 1.4.7 2-5.2.9-9.5 4.1-11.1 8.3h-.1c-1-.6-1.9-3-2.2-4.4l-.2-.7h-5.5l.6 1.3c.6 1.4.8 3.3.9 5.1.3 4.1.7 9.3 8.1 9.5 2.6 3.5 7.2 5.8 12.3 5.8 5.2 0 9.7-2.3 12.3-5.8 4-.2 8.1-3.5 8.1-8.7.1-3.9-2-5.7-3.9-6zm-16.5-8c.9 0 1.6.7 1.6 1.6S41.6 0 40.7 0s-1.6-.7-1.6-1.6.7-1.7 1.6-1.7zm0 5.3c2.4 0 4.7.6 6.6 1.5H34.1c2-1 4.2-1.5 6.6-1.5zM22.1 9.7c-.1-1.5-.2-3-.6-4.4h1.4c.4 1.3 1.3 3.9 2.8 4.9.2.1.3.2.5.2-.1.7-.2 1.4-.2 2.2 0 1.7.4 3.3 1.1 4.8-4.4-.6-4.7-3.7-5-7.7zm18.6 13.6c-7.1 0-12.8-4.8-12.8-10.6 0-2.8 1.3-5.4 3.5-7.3h18.7c2.1 1.9 3.5 4.5 3.5 7.3 0 5.8-5.8 10.6-12.9 10.6zm13.6-6c.7-1.4 1.1-3 1.1-4.7 0-1.7-.4-3.3-1.1-4.8.5-1.1 1.7-1.5 2.6-1.3 1.5.3 2.4 1.8 2.4 4.1 0 3.5-2.3 5.9-5 6.7z"></path></svg></g></svg>
      {pattern.map((row, rowIndex) =>
        row.map((shape, columnIndex) => (
          <use
            key={`${rowIndex}-${columnIndex}`}
            href={`#${id}-${shape}`}
            x={columnIndex * size + columnIndex * gapX}
            y={rowIndex * size + rowIndex * gapY}
          />
        ))
      )}
    </svg>
  )
}
